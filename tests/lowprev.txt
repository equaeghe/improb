Regression tests for the LowPrev class
======================================

Natural extension of a coherent lower prevision
-----------------------------------------------

>>> from improb.lowprev import LowPrev
>>> lpr = LowPrev(3)
>>> print "%.6f" % lpr.getlower([1,2,3])
1.000000
>>> print "%.6f" % lpr.getupper([1,2,3])
3.000000
>>> lpr.setlower([1,2,3], 1.5)
>>> lpr.setupper([1,2,3], 2.5)
>>> print "%.6f" % lpr.getlower([1,2,3])
1.500000
>>> print "%.6f" % lpr.getupper([1,2,3])
2.500000

Frechet bounds
--------------

>>> from improb.lowprev import LowPrev
>>> lpr = LowPrev(4)
>>> lpr.setprecise([1,1,0,0], 0.6)
>>> lpr.setprecise([0,1,1,0], 0.7)
>>> print "%.6f" % lpr.getlower([0,1,0,0]) # max(0.6+0.7-1,0)
0.300000
>>> print "%.6f" % lpr.getupper([0,1,0,0]) # min(0.6,0.7)
0.600000

Avoiding sure loss
------------------

This example incurs sure loss because the maximum of the sum of the gambles
[1,2,3,0] and [3,2,1,0] is 4, however 2.5 + 2.5 is strictly larger than 4.

>>> from improb.lowprev import LowPrev
>>> lpr = LowPrev(4)
>>> lpr.setlower([1,2,3,0], 2.5)
>>> lpr.isavoidingsureloss()
True
>>> lpr.setlower([3,2,1,0], 2.5)
>>> lpr.isavoidingsureloss()
False

Another example
---------------

Finding coherent lower and upper bounds for the oil catter example in

Kikuti, D., Cozman, F., de Campos, C.: Partially ordered preferences
in decision trees: Computing strategies with imprecision in
probabilities. In: R. Brafman, U. Junker (eds.) IJCAI-05
Multidisciplinary Workshop on Advances in Preference Handling,
pp. 118â€“123 (2005)

>>> from improb.lowprev import LowPrev
>>> lpr = LowPrev(3)
>>> lpr.setlower([1,0,0], 0.5)
>>> lpr.setupper([1,0,0], 0.666)
>>> lpr.setlower([0,1,0], 0.222)
>>> lpr.setupper([0,1,0], 0.272)
>>> lpr.setlower([0,0,1], 0.125)
>>> lpr.setupper([0,0,1], 0.181)
>>> print(lpr.getlower([1,0,0])) # not coherent!
0.547
>>> print(lpr.getupper([1,0,0])) # not coherent!
0.653
>>> print(lpr.getlower([0,1,0]))
0.222
>>> print(lpr.getupper([0,1,0]))
0.272
>>> print(lpr.getlower([0,0,1]))
0.125
>>> print(lpr.getupper([0,0,1]))
0.181
>>> lpr = LowPrev(3)
>>> lpr.setlower([1,0,0], 0.222)
>>> lpr.setupper([1,0,0], 0.333)
>>> lpr.setlower([0,1,0], 0.363)
>>> lpr.setupper([0,1,0], 0.444)
>>> lpr.setlower([0,0,1], 0.250)
>>> lpr.setupper([0,0,1], 0.363)
>>> print(lpr.getlower([1,0,0]))
0.222
>>> print(lpr.getupper([1,0,0]))
0.333
>>> print(lpr.getlower([0,1,0]))
0.363
>>> print(lpr.getupper([0,1,0]))
0.444
>>> print(lpr.getlower([0,0,1]))
0.25
>>> print(lpr.getupper([0,0,1]))
0.363
>>> lpr = LowPrev(3)
>>> lpr.setlower([1,0,0], 0.111)
>>> lpr.setupper([1,0,0], 0.166)
>>> lpr.setlower([0,1,0], 0.333)
>>> lpr.setupper([0,1,0], 0.363)
>>> lpr.setlower([0,0,1], 0.454)
>>> lpr.setupper([0,0,1], 0.625)
>>> print(lpr.getlower([1,0,0]))
0.111
>>> print(lpr.getupper([1,0,0]))
0.166
>>> print(lpr.getlower([0,1,0]))
0.333
>>> print(lpr.getupper([0,1,0]))
0.363
>>> print(lpr.getlower([0,0,1])) # not coherent!
0.471
>>> print(lpr.getupper([0,0,1])) # not coherent!
0.556
>>> lpr = LowPrev(3)
>>> lpr.setlower([1,0,0], 0.181)
>>> lpr.setupper([1,0,0], 0.222)
>>> lpr.setlower([0,1,0], 0.333)
>>> lpr.setupper([0,1,0], 0.363)
>>> lpr.setlower([0,0,1], 0.444)
>>> lpr.setupper([0,0,1], 0.454)
>>> print(lpr.getlower([1,0,0])) # not coherent!
0.183
>>> print(lpr.getupper([1,0,0]))
0.222
>>> print(lpr.getlower([0,1,0]))
0.333
>>> print(lpr.getupper([0,1,0]))
0.363
>>> print(lpr.getlower([0,0,1]))
0.444
>>> print(lpr.getupper([0,0,1]))
0.454
